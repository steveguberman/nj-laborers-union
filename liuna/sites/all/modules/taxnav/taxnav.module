<?php

function taxnav_menu() {

$path ='admin/taxnav/rebuild';
	$items[$path]=array();
		$items[$path]['title'] 			= 'Tax Nav Build';
		$items[$path]['desciption'] 		= 'Collect all node that are assigned the tax nav vocabulary and build their tree';
		$items[$path]['position'] 		= 'right';
		$items[$path]['weight'] 		= '-100';
		#$items[$path]['type'] 			=  MENU_CALLBACK;
		$items[$path]['page callback'] 		= 'build';
		$items[$path]['access arguments'] 	=  array('administer site configuration');
		$items[$path]['file'] 			= 'build.taxnav.inc';
		$items[$path]['file path'] 		=  drupal_get_path('module','taxnav');
	
	return $items;
};

function taxnav_taxonomy_vocabulary_delete($vocabulary){ _taxnav_taxonomy_change(); }
function taxnav_taxonomy_vocabulary_insert($vocabulary){ _taxnav_taxonomy_change(); }
function taxnav_taxonomy_vocabulary_update($vocabulary){ _taxnav_taxonomy_change(); }

function _taxnav_taxonomy_change(){
	xdebug_break();
	#include_once('./build.taxnav.inc');
	#build();
}


/* vim: set filetype=php : */
?>
